# UTA_GameVersionManagerプラグイン

## ■概要 : Overview
ゲームに内部的なバージョンを付与し、セーブデータに記録したバージョンと異なる場合に様々な処理を行うRPGツクールMV用プラグインです。  

ゲームのバグ修正を行った場合など、既にセーブされてしまったファイルに対して、何らかの修正を行いたい場合などに活用できます。  

プラグインコマンドを用いる事で、プレイヤーがゲーム中にゲームバージョンを提示できる為、ユーザーサポート面でも活用できるでしょう。

## ■利用方法 : Usage
ご自身のプロジェクトにUTA_GameVersionManager.jsを配置し、プラグインの有効化を行って下さい。  
まずプラグインパラメーターの設定を行い、現在のゲームバージョンの定義を行ってください。  

ゲームバージョンを設定すると、設定後にセーブした際にセーブデータにゲームバージョンが記録されるようになります。  

セーブデータをロードしたタイミングで、現在のゲームバージョンと読み込んだセーブデータに記録されたバージョンを比較し、古い場合、新しい場合に設定したコモンイベントが実行されます。

なお、途中からの導入も可能です。  
プラグイン導入前の既存セーブデータをロードした場合、バージョンが「0」のデータが読み込まれたものとして扱います。

## ■プラグインパラメーター : Plugin Parameters
### Game Version
現在のゲームバージョンの定義。整数値。  
現在のゲームバージョンを小数第2桁までの数値を入れます。  
リリース毎に+1するなどして更新するのが良いでしょう。

### Common Event Id Old Version
ロードしたセーブデータが現在のゲームバージョンより古い場合に実行するコモンイベントの番号を設定します。  
何も記述しない場合は特に処理を行いません。  
設定したコモンイベントはロードが終わってすぐに実行されます。

### Common Event Id Future Version
ロードしたセーブデータが現在のゲームバージョンより新しい場合に実行するコモンイベントの番号を設定します。  
通常はあり得ないシナリオですが、意図的に古いゲームファイルに新しいセーブデータを移してきた場合に該当します。  
何も記述しない場合は特に処理を行いません。  
設定したコモンイベントはロードが終わってすぐに実行されます。

## ■プラグインコマンド : Plugin Commands
### UTA_GameVersionManager getGameVersion VariableNo
現在のゲームバージョンを取得して変数に格納します。

| 引数 | 型 | 説明 |
|:---:|:---:|:---|
| VariableNo | number | ゲームバージョンを格納する変数番号。 |

### UTA_GameVersionManager getLoadGameVersion VariableNo
ロードしたセーブデータに記録されたゲームバージョンを取得して変数に格納します。  
一度もセーブしていないデータ、バージョン情報の無いセーブデータの場合は「0」が返ります。

| 引数 | 型 | 説明 |
|:---:|:---:|:---|
| VariableNo | number | ロードしたセーブデータのゲームバージョンを格納する変数番号。 |

## ■更新履歴 : Change Log
### ver 1.0.0 (2018.08.26)
初版。過去作成したものを公開用に調整。

## ■ライセンス/利用規約 : License
本プラグインは[MIT License](LICENSE)です。  
商用/非商用問わずにご利用いただけます。

## ■連絡先 : Content Information

|  |  |
|:---:|:---|
| Author | 赤月 智平(T.Akatsuki) |
| WebSite | https://www.utakata-no-yume.net |
| Twitter | [@T_Akatsuki](https://twitter.com/t_akatsuki) |
| GitHub | https://github.com/T-Akatsuki |
